/*
 Angular Clear Input directive
 (c) 2014 Daniel Cohen. http://dcb.co.il
 License: MIT
*/
angular.module("dcbClearInput",[]).directive("clearInput",["$parse",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,r){var i=r.clearBtnMarkup?r.clearBtnMarkup:"<span>X</span>";var s=angular.element(i);s.addClass(r.clearBtnClass?r.clearBtnClass:"clear-btn");n.after(s);s.on("click",function(n){if(r.clearInput){var i=e(r.clearInput);t.$apply(function(){i(t,{$event:n})})}else{t[r.ngModel]=null;t.$digest()}});t.$watch(r.ngModel,function(e){var t=e&&e.length>0;if(!r.clearDisableVisibility){s.css("visibility",t?"visible":"hidden")}if(t&&!s.hasClass("clear-visible")){s.removeClass("clear-hidden").addClass("clear-visible")}else if(!hasClass&&!s.hasClass("clear-hidden")){s.removeClass("clear-visible").addClass("clear-hidden")}})}}}])